<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Rock Paper Scissors</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="rock_paper_style.css">
    </head>
    <body style="background-color: black; color: white;">
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        <p>Rock Paper Scissors</p>

        <button onclick= "playerMove('rock');" > Rock</button>

        <button onclick="playerMove('paper')">Paper</button>


        <button onclick="playerMove('scissors')">Scissors</button>


        <p class="js-score"></p>
        <p class="js-result"></p>
        <p class="js-move"></p>

        <button onclick="
                        score.wins=0 ;
                        score.losses=0;
                        score.ties=0;
                        localStorage.removeItem('score');
                        updateScoreElement();
                        ">Reset Score</button>
                        
  <button onclick="
  autoPlay();">AutoPlay</button>
        <script>



            let score=   
              (JSON.parse(localStorage.getItem('score'))) || {
                    wins:0,
                    losses:0,
                    ties:0
                };

            //   if(score===null){
            //     score={
            //         wins:0,
            //         losses:0,
            //         ties:0
            //     };
            //   }

        //    function autoPlay(){
        //        setInterval(function(){
        //         const playgame= pickComputerMove();
        //             playerMove(playgame);
        //        },1000);

        //    }

            function playerMove(playerMove){
            let computermove= pickComputerMove();
             let result='';
            if(playerMove==='rock'){
            if(computermove==='rock'){
                result='tie';
            }
            
            else if(computermove==='paper'){
                result='loose';
            }
            else{
                result= 'won';
            }

          }

          else if(playerMove==='paper'){
            if(computermove==='rock'){
            result='won';
        }
        
        else if(computermove==='paper'){
            result='tie';
        }
        else{
            result= 'loose';
        }
          }

          else if(playerMove==='scissors'){
            if(computermove==='rock'){
            result='loose';
        }
        
        else if(computermove==='paper'){
            result='won';
        }
        else{
            result= 'tie';
          }
        }
        
          document.querySelector('.js-result').innerHTML=result;
          document.querySelector('.js-move').innerHTML= (`You selected ${playerMove}- Computer move is ${computermove}`)

        //   alert(`you chose ${playerMove} , computer chose ${computermove} you ${result}
          
        //   Wins:${score.wins} , Losses :${score.losses}, Ties: ${score.ties}
          
        //   `);

          function updateScoreElement(){
        document.querySelector('.js-score').
               innerHTML=` Wins:${score.wins} , Losses :${score.losses}, Ties: ${score.ties}`;
             }


          if(result==='won'){
            score.wins+=1; 
        }
        else if(result==='loose'){
            score.losses+=1;
        }
        else{
            score.ties+=1;
        }

        updateScoreElement();

      
        localStorage.setItem('score',JSON.stringify(score));

        

    //    function updateScoreElement(){
    //     document.querySelector('.js-score').
    //            innerHTML=` Wins:${score.wins} , Losses :${score.losses}, Ties: ${score.ties}`;
    //    }




        }


       


                 let computermove='';
                 function pickComputerMove(){

                                


               let randomNumber=(Math.random());
                                    

                                    if(randomNumber>=0 && randomNumber<=1/3){
                                    computermove= 'rock';
                                    }
                                    else if(randomNumber>=1/3 && randomNumber<=2/3){
                                    computermove= 'paper';
                                    }
                                    else{
                                    computermove= 'Scissors';
                                    } 
                                    
                                    // console.log(computermove);


                                    return computermove;

                            }
                            

            

                 

                                  updateScoreElement();
       
             






















        </script>
    </body>


</html>